include "application.conf"

spring.main.allow-bean-definition-overriding=true

ix.gsrs.protein.mw.percent.tolerance=1.0
substance.renderer.configPath=substances-default-renderer.json

approval_id_code_system="UNII from FDA"
logging.level.root=error
logging.level.example.substance.processor=trace
logging.level.gsrs.module.substance.processors=trace
logging.level.ix.ginas.utils.validation.validators=trace
logging.level.ix.ginas.utils.validation=trace
logging.level.gsrs.module.substance.indexers.SubstanceDefinitionalHashIndexer=trace
logging.level.example.substance.crud=trace
logging.level.example.substance.datasearch=trace
logging.level.example.substance.validation=trace
logging.level.example.imports=trace
logging.level.gsrs.module.substance.importers=trace
logging.level.gsrs.dataExchange.model=trace
logging.level.gsrs.controller=trace

logging.FileHandler.pattern="d:/temp/gsrs/gsrs3.tests.log"
java.util.logging.FileHandler.limit=50000
java.util.logging.FileHandler.count=1
java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter
java.util.logging.FileHandler.level=FINE

#logging.FileHandler.pattern="d:/temp/gsrs/gsrs3.tests.log"
#java.util.logging.FileHandler.limit=50000
#java.util.logging.FileHandler.count=1
#java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter
#java.util.logging.FileHandler.level=FINE
#java.util.logging.FileHandler.level=SEVERE
logging.level.gsrs=TRACE
logging.level.example.substance=ERROR
logging.level.ix.ginas=ERROR
logging.level.org.springframework=ERROR
logging.level.example.imports=trace
#logging.level.org.hibernate.SQL=ERROR
#This DB config is just for a small group of tests:
#spring.datasource.driver-class-name=org.postgresql.Driver
#spring.datasource.url="jdbc:postgresql://localhost:5432/gsrs-hc"
#spring.datasource.username=ginas
#spring.datasource.password=ginas
#spring.jpa.database-platform = gsrs.repository.sql.dialect.GSRSPostgreSQLDialectCustom

spring.jpa.show-sql=false
#logging.level.example.substance.validation=trace
logging.level.ix.core.EntityFetcher=OFF
logging.level.example.substance=trace

#for travis CI
#logging.level.root=OFF
logging.level.gsrs.module.substance.scrubbers=trace
logging.level.example.exports.scrubbers=trace

gsrs.standardizers.substances = {
    "name" = {
        "standardizerClass" = "gsrs.module.substance.standardizer.HtmlNameStandardizer"
    },
    "stdname" = {
        "standardizerClass" = "gsrs.module.substance.standardizer.HtmlNameStandardizer"
    }
}

gsrs.importAdapterFactories.substances =
[
	{
		"adapterName": "NSRS SDF Adapter",
		"importAdapterFactoryClass": "gsrs.module.substance.importers.NSRSSDFImportAdapterFactory",
		"holdingAreaServiceClass": "gsrs.holdingarea.service.DefaultHoldingAreaService",
		#do extensions belong here or are they parts... Go to a default set of values for each AdapterFactory.
		"supportedFileExtensions": [
			"sdf",
			"sd"
		],
		"entityServiceClass" :"gsrs.dataexchange.SubstanceHoldingAreaEntityService",
		"parameters": {
			#the things used to instantiate a thing used to do the import... level of abstraction
			"fileImportActions": [
				##list of available actions for user to select from
				#each action takes in a file record + a substance record to update substance record with data from file
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.NSRSCustomCodeExtractorActionFactory",
					"fields": [
						{
							"fieldName": "code",
							"fieldLabel": "CAS Number",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						},
						{
							"fieldName": "codeType",
							"fieldLabel": "Primary or Alternative",
							"defaultValue": "PRIMARY",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						}
					],
					"parameters": {
						"codeSystem": "CAS"
					},
					"actionName": "cas_import"
				},
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.NSRSCustomCodeExtractorActionFactory",
					"fields": [
						{
							"fieldName": "code",
							"fieldLabel": "NCI Number",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						},
						{
							"fieldName": "codeType",
							"fieldLabel": "Primary or Alternative",
							"defaultValue": "PRIMARY",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						}
					],
					"parameters": {
						"codeSystem": "NCI"
					},
					"actionName": "nci_import"
				},
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.StructureExtractorActionFactory",
					"fields": [
						{
							"fieldName": "molfile",
							"fieldLabel": "Structure",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						}
					],
					"parameters": {
					},
					"actionName": "structure_and_moieties"
				},
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.ReferenceExtractorActionFactory",
					"fields": [
						{
							"fieldName": "docType",
							"fieldLabel": "Type",
							"defaultValue": "CATALOG",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						},
					    {
							"fieldName": "citation",
							"fieldLabel": "Reference",
							"defaultValue": "{INSERT REFERENCE CITATION HERE}",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						}
					],
					"parameters": {
					},
					"actionName": "public_reference"
				},
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.CodeExtractorActionFactory",
					"fields": [
						{
							"fieldName": "code",
							"fieldLabel": "Code",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						},
						{
							"fieldName": "codeType",
							"fieldLabel": "Primary or Alternative",
							"defaultValue": "PRIMARY",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						},
						{
							"fieldName": "codeSystem",
							"fieldLabel": "Code System",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						}
					],
					"parameters": {
					},
					"actionName": "code_import"
				},
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.NameExtractorActionFactory",
					"fields": [
						{
							"fieldName": "name",
							"fieldLabel": "Name",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						},
						{
							"fieldName": "nameType",
							"fieldLabel": "Name Type",
							"defaultValue": "cn",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						}
					],
					"parameters": {
					},
					"actionName": "common_name"
				},
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.PropertyExtractorActionFactory",
					"fields": [
						{
							"fieldName": "name",
							"fieldLabel": "Property Name",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": false,
							"required": true,
							"lookupKey": null
						},
						{
							"fieldName": "propertyType",
							"fieldLabel": "Property Type",
							"defaultValue": "physical",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						}
					],
					"parameters": {
					},
					"actionName": "property_import"
				},
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.PropertyExtractorActionFactory",
					"fields": [
						{
							"fieldName": "name",
							"fieldLabel": "Name",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						},
						{
							"fieldName": "propertyType",
							"fieldLabel": "Property Type",
							"defaultValue": "chemical",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						},
						{
							"fieldName": "valueAverage",
							"fieldLabel": "Average Value",
							"defaultValue": null,
							"fieldType": "java.lang.Double",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						},
						{
							"fieldName": "valueNonNumeric",
							"fieldLabel": "Non-numeric Value",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						},
						{
							"fieldName": "valueUnits",
							"fieldLabel": "Units",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						}
					],
					"parameters": {
					},
					"actionName": "create_property"
				}
			]
		}
	}
	,
	{
		"adapterName": "SDF Adapter",
		"importAdapterFactoryClass": "gsrs.module.substance.importers.SDFImportAdapterFactory",
		"holdingAreaServiceClass": "gsrs.holdingarea.service.DefaultHoldingAreaService",
		"entityServiceClass" :"gsrs.dataexchange.SubstanceHoldingAreaEntityService",
		#do extensions belong here or are they parts... Go to a default set of values for each AdapterFactory.
		"supportedFileExtensions": [
			"sdf",
			"sd",
			"sdfile"
		],
		"parameters": {
			#the things used to instantiate a thing used to do the import... level of abstraction
			"fileImportActions": [
			##list of available actions for user to select from
			#each action takes in a file record + a substance record to update substance record with data from file
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.NSRSCustomCodeExtractorActionFactory",
					"fields": [
						{
							"fieldName": "code",
							"fieldLabel": "CAS Number",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						},
						{
							"fieldName": "codeType",
							"fieldLabel": "Primary or Alternative",
							"defaultValue": "PRIMARY",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						}
					],
					"parameters": {
						"codeSystem": "CAS"
					},
					"actionName": "cas_import"
				},
				{
					"actionClass": "gsrs.module.substance.importers.importActionFactories.NSRSCustomCodeExtractorActionFactory",
					"fields": [
						{
							"fieldName": "code",
							"fieldLabel": "NSC Number",
							"defaultValue": null,
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": true,
							"lookupKey": null
						},
						{
							"fieldName": "codeType",
							"fieldLabel": "Primary or Alternative",
							"defaultValue": "PRIMARY",
							"fieldType": "java.lang.String",
							"expectedToChange": true,
							"required": false,
							"lookupKey": null
						}
					],
					"parameters": {
						"codeSystem": "NSC"
					},
					"actionName": "nci_import"
				}
			]
		}
	}
]

