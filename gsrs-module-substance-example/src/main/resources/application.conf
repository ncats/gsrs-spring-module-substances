include "substances-core.conf"

include "gsrs-h2-local.conf"
#include "application-postgres.conf"

include "fda-extension.conf"
gsrs.sessionSecure=false
#uncomment this setting to change renderer to use USP render settings.
#substance.renderer.style="USP"

# PUT YOUR PERSONAL EXTENSIONS AND ADDITIONS HERE
endpoints.health.sensitive = false
management.security.enabled = false
#debug=true
spring.main.allow-bean-definition-overriding=true

application.host="http://localhost:8080"
ix.authentication.logheaders=false
#logging.level.gsrs=DEBUG

#spring.jpa.properties.javax.persistence.schema-generation.scripts.action=create
#spring.jpa.properties.javax.persistence.schema-generation.scripts.create-target=hibernate_substance_create.sql
#spring.jpa.properties.javax.persistence.schema-generation.scripts.create-source=metadata

#logging.level.org.hibernate.SQL=DEBUG
#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.gsrs.module.substance.controllers=trace
logging.level.gsrs.module.substance.importers=trace
logging.level.example.imports=trace
#logging.level.gsrs.controller=trace
management.health.rabbit.enabled: false

# gsrs.scheduled-tasks.list +={
#         "scheduledTaskClass": "ix.ginas.initializers.ABaseSyncInitializer",
#         "parameters" ={
#             "probeInfo" ={
#                 "driver" : "oracle.jdbc.driver.OracleDriver",
#                 "uri" : "jdbc:oracle:thin:registry/Scant20!7@oraracprd-scan.ncats.nih.gov:1521/probedb",
#             },
#              "abaseInfo" ={
#                             "driver" : "oracle.jdbc.driver.OracleDriver",
#                             "uri" :"jdbc:oracle:thin:SYSADMIN/SYSADMIN@ncatslndbspdp01.ncats.nih.gov:1527:ABASEDB",
#                         }
#             #this makes abase.copySince not set since if it is not set
#                         "since" : "2022-07-13",
#
#                                     "autorun": true,
#                                                 "outputLog" : "logs/probDb.log"
#                                                         "cron":"0 0 10,18,23 * * ?", #at 10AM, 6PM and 11PM
#                                                #"cron":"0 0 0,1,2,3,4,5,6,7,8,12,19 * * ?", #hourly from 12am-8am, noon and 7pm every day
#     }
# }
            
            
abase.copySince = "2022-05-20"
probeDb.uri="jdbc:oracle:thin:registry/Scant20!7@oraracprd-scan.ncats.nih.gov:1521/probedb"
abaseDb.uri="jdbc:oracle:thin:SYSADMIN/SYSADMIN@ncatslndbspdp01.ncats.nih.gov:1527:ABASEDB"
            
logging.level.ix.ginas.initializers=TRACE
            #                                                                                ~
            #
            #

# ix.gsrs.sdfActions={structure_and_moieties:'gsrs.module.substance.importers.StructureExtractorActionFactory',
#                    code_import:'gsrs.module.substance.importers.CodeExtractorActionFactory',
#                    code_import2:'gsrs.module.substance.importers.CodeExtractorActionFactory_blah',
#                    common_name:'gsrs.module.substance.importers.NameExtractorActionFactory'}
# nsrs.sdfActions={structure_and_moieties:'gsrs.module.substance.importers.StructureExtractorActionFactory',code_import:'gsrs.module.substance.importers.CodeExtractorActionFactory',code_import2:'gsrs.module.substance.importers.CodeExtractorActionFactory_blah',common_name:'gsrs.module.substance.importers.NameExtractorActionFactory'}
# o
#



gsrs.importAdapterFactories.substances =
[
		{
		
			"adapterName": "NSRS SDF Adapter",
			"importAdapterFactoryClass": "gsrs.module.substance.importers.NSRSSDFImportAdapterFactory",
			#do extensions belong here or are they parts... Go to a default set of values for each AdapterFactory.
			"supportedFileExtensions": [
				"sdf",
				"sd"
			],
			
			"parameters": {
			#the things used to instantiate a thing used to do the import... level of abstraction
			
				"fileImportActions": [
				##list of available actions for user to select from
				#each action takes in a file record + a substance record to update substance record with data from file
					{
						"actionClass": "gsrs.module.substance.importers.importActionFactories.NSRSCustomCodeExtractorActionFactory",
						"fields": [
							{
								"fieldName": "code",
								"fieldLabel": "CAS Number",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							},
							{
								"fieldName": "codeType",
								"fieldLabel": "Primary or Alternative",
								"defaultValue": "PRIMARY",
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							}
						],
						"parameters": {
							"codeSystem": "CAS"
						},
						"actionName": "cas_import"
					},
					{
						"actionClass": "gsrs.module.substance.importers.importActionFactories.NSRSCustomCodeExtractorActionFactory",
						"fields": [
							{
								"fieldName": "code",
								"fieldLabel": "NCI Number",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							},
							{
								"fieldName": "codeType",
								"fieldLabel": "Primary or Alternative",
								"defaultValue": "PRIMARY",
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							}
						],
						"parameters": {
							"codeSystem": "NCI"
						},
						"actionName": "nci_import"
					},
					{
						"actionClass": "gsrs.module.substance.importers.importActionFactories.StructureExtractorActionFactory",
						"fields": [
							{
								"fieldName": "molfile",
								"fieldLabel": "Structure",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							}
						],
						"parameters": {
							
						},
						"actionName": "structure_and_moieties"
					},
					{
						"actionClass": "gsrs.module.substance.importers.importActionFactories.ReferenceExtractorActionFactory",
						"fields": [
							{
								"fieldName": "docType",
								"fieldLabel": "Type",
								"defaultValue": "CATALOG",
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							},
							{
								"fieldName": "citation",
								"fieldLabel": "Reference",
								"defaultValue": "{INSERT REFERENCE CITATION HERE}",
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							}
						],
						"parameters": {
							
						},
						"actionName": "public_reference"
					},
					{
						"actionClass": "gsrs.module.substance.importers.importActionFactories.CodeExtractorActionFactory",
						"fields": [
							{
								"fieldName": "code",
								"fieldLabel": "Code",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							},
							{
								"fieldName": "codeType",
								"fieldLabel": "Primary or Alternative",
								"defaultValue": "PRIMARY",
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							},
							{
								"fieldName": "codeSystem",
								"fieldLabel": "Code System",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							}
						],
						"parameters": {
						},
						"actionName": "code_import"
					},
					{
						"actionClass": "gsrs.module.substance.importers.importActionFactories.NameExtractorActionFactory",
						"fields": [
							{
								"fieldName": "name",
								"fieldLabel": "Name",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							},
							{
								"fieldName": "nameType",
								"fieldLabel": "Name Type",
								"defaultValue": "cn",
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							}
						],
						"parameters": {
						},
						"actionName": "common_name"
					},
					{
						"actionClass": "gsrs.module.substance.importers.importActionFactories.PropertyExtractorActionFactory",
						"fields": [
							{
								"fieldName": "name",
								"fieldLabel": "Name",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							},
							{
								"fieldName": "propertyType",
								"fieldLabel": "Property Type",
								"defaultValue": "chemical",
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							},
							{
								"fieldName": "valueAverage",
								"fieldLabel": "Average Value",
								"defaultValue": null,
								"fieldType": "java.lang.Double",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							},
							{
								"fieldName": "valueNonNumeric",
								"fieldLabel": "Non-numeric Value",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							},
							{
								"fieldName": "valueUnits",
								"fieldLabel": "Units",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							}
						],
						"parameters": {
						},
						"actionName": "create_property"
					}				]
			}
		}
		,
				{
		
			"adapterName": "SDF Adapter",
			"importAdapterFactoryClass": "gsrs.module.substance.importers.SDFImportAdapterFactory",
			"holdingAreaServiceClass": "gsrs.holdingArea.services.DefaultHoldingAreaService",
			#do extensions belong here or are they parts... Go to a default set of values for each AdapterFactory.
			"supportedFileExtensions": [
				"sdf",
				"sd",
				"sdfile"
			],
			
			"parameters": {
			#the things used to instantiate a thing used to do the import... level of abstraction
			
				"fileImportActions": [
				##list of available actions for user to select from
				#each action takes in a file record + a substance record to update substance record with data from file
					{
						"actionClass": "gsrs.module.substance.importers.importActionFactories.NSRSCustomCodeExtractorActionFactory",
						"fields": [
							{
								"fieldName": "code",
								"fieldLabel": "CAS Number",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							},
							{
								"fieldName": "codeType",
								"fieldLabel": "Primary or Alternative",
								"defaultValue": "PRIMARY",
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							}
						],
						"parameters": {
							"codeSystem": "CAS"
						},
						"actionName": "cas_import"
					},
					{
						"actionClass": "gsrs.module.substance.importers.importActionFactories.NSRSCustomCodeExtractorActionFactory",
						"fields": [
							{
								"fieldName": "code",
								"fieldLabel": "NSC Number",
								"defaultValue": null,
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": true,
								"lookupKey": null
							},
							{
								"fieldName": "codeType",
								"fieldLabel": "Primary or Alternative",
								"defaultValue": "PRIMARY",
								"fieldType": "java.lang.String",
								"expectedToChange": true,
								"required": false,
								"lookupKey": null
							}
						],
						"parameters": {
							"codeSystem": "NSC"
						},
						"actionName": "nci_import"
					}				]
			}
		}
	]
